(this.webpackJsonpreact_media_recorder=this.webpackJsonpreact_media_recorder||[]).push([[0],{270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},274:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},292:function(e,t){},293:function(e,t){},301:function(e,t){},311:function(e,t){},312:function(e,t){},313:function(e,t){},314:function(e,t){},322:function(e,t){},323:function(e,t,n){},324:function(e,t,n){"use strict";n.r(t);var c=n(30),i=n.n(c),s=n(240),a=n.n(s),o=(n(270),n(4)),r=n(113),d=n(40),l=(n(271),n(272),n(23));var b=function(e){return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title",children:e.pageName}),Object(l.jsxs)("div",{className:"pageContent",children:[Object(l.jsx)("p",{children:"This is an exercise in Github webpage to experience how REACT JSX is applied. Comparing to Class Function, REACT Hook is selected as it is more flexible to interact with different web pages. In this exercise, useState, useEffect and Router etc. are included. REACT V6 makes the structure easier than pervious version."}),Object(l.jsx)("p",{children:"Although JavaScript, HTML and CSS have been used for years, this exercise still requires certain time to understand REACT especially it is easy to be confused with some online articles which are using V5. It is the first REACT exercise and GUI design. After more practices are done, technique of using REACT should be enhanced."}),Object(l.jsx)("p",{children:"For privacy, all video and audio are processed in the browser environment. There is no server connection as it is the nature of Github. Hence, there is not any records to be transferred to any unknown backend."}),Object(l.jsx)("p",{children:"At last, an Object Detection page which is based on TensorFlow.js is added. The dataset is CoCo and model is SSD."})]})]})};n(274);var u=function(e){return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title",children:e.pageName}),Object(l.jsxs)("div",{className:"pageContent",children:[Object(l.jsx)("p",{children:"The main stream in this exercise is REACT HOOK. In order to make this in Github web page while showing some features, there is not server end service to be involved. The features include capturing Video and Audio which are easily connected by Web Browsers in every laptop."}),Object(l.jsx)("p",{children:"There are three buttons in Video and Audio page. Users can start recording; stop recording and download the recording. Please feel free to test."}),Object(l.jsx)("p",{children:"The last page is Object Detection. The page takes time to load the model before being used. Once the model is loaded, user can start the prediction by clicking the button. If user want to stop the prediction, camera usage can be terminated by closing the browser or clicking other page in top menu."})]})]})},j=n(5),h=n.n(j),p=n(11),m=n(188);n(277);var O=function(e){var t,n,c,i=Object(m.useReactMediaRecorder)({video:!0,blobPropertyBag:{type:"video/mp4"}}),s=i.status,a=i.startRecording,o=i.stopRecording,r=i.mediaBlobUrl,d=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c="stopped"===s?"btnEnable":"btnDisable","idle"===s||"stopped"===s?(t="btnEnable",n="btnDisable"):(t="btnDisable",n="btnEnable"),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title",children:e.pageName}),Object(l.jsxs)("div",{className:"pageContent",children:[Object(l.jsxs)("div",{className:"button",children:[Object(l.jsx)("button",{className:t,onClick:function(){a()},children:"Start Recording"}),Object(l.jsx)("button",{className:n,onClick:d,children:"Stop Recording"}),Object(l.jsx)("button",{className:c,onClick:function(){var e=document.createElement("a");e.setAttribute("href",r),e.setAttribute("download","demo.mp4"),e.style.visibility="hidden",document.body.appendChild(e);try{var t=new XMLHttpRequest;t.open("HEAD",e,!1),t.send(),console.log(t.status)}catch(n){console.log("File exist!"),e.click()}document.body.removeChild(e)},children:"Download Recording"})]}),Object(l.jsxs)("div",{className:"status",children:["STATUS: ",s]}),Object(l.jsx)("div",{children:Object(l.jsx)("video",{width:320,height:240,src:r,controls:!0,autoPlay:!0,loop:!0})})]})]})};n(278);var x=function(e){var t,n,c,i=Object(m.useReactMediaRecorder)({audio:!0,blobPropertyBag:{type:"audio/wav"}}),s=i.status,a=i.startRecording,o=i.stopRecording,r=i.mediaBlobUrl,d=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c="stopped"===s?"btnEnable":"btnDisable","idle"===s||"stopped"===s?(t="btnEnable",n="btnDisable"):(t="btnDisable",n="btnEnable"),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title",children:e.pageName}),Object(l.jsxs)("div",{className:"pageContent",children:[Object(l.jsxs)("div",{className:"button",children:[Object(l.jsx)("button",{className:t,onClick:function(){a()},children:"Start Recording"}),Object(l.jsx)("button",{className:n,onClick:d,children:"Stop Recording"}),Object(l.jsx)("button",{className:c,onClick:function(){var e=document.createElement("a");e.setAttribute("href",r),e.setAttribute("download","demo.wav"),e.style.visibility="hidden",document.body.appendChild(e);try{var t=new XMLHttpRequest;t.open("HEAD",e,!1),t.send(),console.log(t.status)}catch(n){console.log("File exist!"),e.click()}document.body.removeChild(e)},children:"Download Recording"})]}),Object(l.jsxs)("div",{className:"status",children:["STATUS: ",s]}),Object(l.jsx)("div",{children:Object(l.jsx)("audio",{src:r,controls:!0,autoPlay:!0,loop:!0})})]})]})},v=n(241),f=n(265),g=n(264),w=n.n(g);n(323);var N=function(e){var t=Object(c.useRef)(null),n={height:{videoHeight:640},width:{videoWidth:960},maxWidth:"100vw",facingMode:"user"},i=Object(c.useState)(0),s=Object(o.a)(i,2),a=s[0],r=s[1],d=Object(c.useState)(),b=Object(o.a)(d,2),u=b[0],j=b[1],m=Object(c.useState)(),O=Object(o.a)(m,2),x=O[0],g=O[1],N=Object(c.useState)(),y=Object(o.a)(N,2),C=y[0],k=y[1],S=Object(c.useState)(0),E=Object(o.a)(S,2),R=E[0],T=E[1];function A(){return(A=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.load();case 3:t=e.sent,r(1),j(t),console.log("setloadedModel"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log("failed load model");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function D(){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(h.a.mark((function e(){var t,n,c,i,s,a,o,r,d,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.detect(document.getElementById("img"));case 3:if(t=e.sent,T(1),n=document.getElementById("camCanvas"),(c=n.getContext("2d")).clearRect(0,0,1920,1080),t.length>0)for(i=0;i<t.length;i++)s=t[i].class,a=Math.round(100*parseFloat(t[i].score)),o=t[i].bbox[0],r=t[i].bbox[1],d=t[i].bbox[2],l=t[i].bbox[3]-t[i].bbox[1],c.beginPath(),c.font="28px Arial",c.fillStyle="red",c.fillText(s+":"+a+"%",o,r),c.rect(o,r,d,l),c.strokeStyle="#FF0000",c.lineWidth=3,c.stroke(),g(s),k(a);setTimeout((function(){return D()}),500),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Exited Detection!");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){f.a().then((function(){!function(){A.apply(this,arguments)}()}))}),[]),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title",children:e.pageName}),Object(l.jsxs)("div",{className:"pageContent",children:[0===a&&Object(l.jsxs)("div",{className:"lds-ellipsis",children:["Loading...",Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]}),1===a&&Object(l.jsxs)("div",{className:"button",children:[Object(l.jsx)("button",{onClick:function(){D()},children:"Predict"}),x,1===R&&":"," ",C,1===R&&"%"]}),Object(l.jsx)("div",{className:"screen",children:Object(l.jsx)("canvas",{id:"camCanvas",width:960,height:640})}),Object(l.jsx)("div",{className:"webcam",children:Object(l.jsx)(w.a,{audio:!1,id:"img",ref:t,screenshotQuality:1,screenshotFormat:"image/jpeg",videoConstraints:n})})]})]})},y=function(){var e=Object(c.useState)("mobile"),t=Object(o.a)(e,2),n=t[0],i=t[1],s=function(){window.innerWidth>768?i("PC-size"):window.innerWidth>576?i("tablet-size"):i("mobile-size")};return Object(c.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}),[]),n};var C=function(){var e=y(),t=Object(c.useState)(new Date),n=Object(o.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return s(new Date)}),1e3);return function(){clearInterval(e)}}),[]),Object(l.jsxs)(r.a,{children:[Object(l.jsxs)("div",{className:"top",children:[Object(l.jsx)("span",{className:"spanLeft",children:Object(l.jsxs)("nav",{children:[Object(l.jsx)(r.b,{className:"link",to:"/",children:"Home"}),Object(l.jsx)(r.b,{className:"link",to:"/about",children:"About"}),Object(l.jsx)(r.b,{className:"link",to:"/video",children:"Video"}),Object(l.jsx)(r.b,{className:"link",to:"/audio",children:"Audio"}),Object(l.jsx)(r.b,{className:"link",to:"/objectdetection",children:"Object-Detection"})]})}),Object(l.jsxs)("span",{className:"spanRight",children:[i.toLocaleDateString()," ",i.toLocaleTimeString()," (",e,")"]}),Object(l.jsx)("div",{className:"divBreak"})]}),Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/",element:Object(l.jsx)(b,{pageName:"Home"})}),Object(l.jsx)(d.a,{path:"/react_media_recorder",element:Object(l.jsx)(b,{pageName:"Home"})}),Object(l.jsx)(d.a,{path:"/about",element:Object(l.jsx)(u,{pageName:"About"})}),Object(l.jsx)(d.a,{path:"/video",element:Object(l.jsx)(O,{pageName:"Video"})}),Object(l.jsx)(d.a,{path:"/audio",element:Object(l.jsx)(x,{pageName:"Audio"})}),Object(l.jsx)(d.a,{path:"/objectdetection",element:Object(l.jsx)(N,{pageName:"Object-Detection"})})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,325)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),k()}},[[324,1,2]]]);
//# sourceMappingURL=main.3523f79c.chunk.js.map